<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Global - Documentation</title>

        <script src="scripts/prettify/prettify.js"></script>
        <script src="scripts/prettify/lang-css.js"></script>
        <!--[if lt IE 9]>
            <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link type="text/css" rel="stylesheet" href="styles/prettify.css" />
        <link type="text/css" rel="stylesheet" href="styles/jsdoc.css" />
        <script src="scripts/nav.js" defer></script>

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>
    <body>
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger" class="navicon-button x">
            <div class="navicon"></div>
        </label>

        <label for="nav-trigger" class="overlay"></label>

        <nav>
            <h2><a href="index.html">Home</a></h2>
            <h3>Global</h3>
            <ul>
                <li><a href="global.html#createAchievementRoles">createAchievementRoles</a></li>
                <li><a href="global.html#createUpdateOsrsRoles">createUpdateOsrsRoles</a></li>
                <li><a href="global.html#data">data</a></li>
                <li><a href="global.html#ensurePlayerDataTable">ensurePlayerDataTable</a></li>
                <li><a href="global.html#execute">execute</a></li>
                <li><a href="global.html#fetchAndProcessMember">fetchAndProcessMember</a></li>
                <li><a href="global.html#fetchAndSaveRegisteredPlayerData">fetchAndSaveRegisteredPlayerData</a></li>
                <li><a href="global.html#fetchAndUpdatePlayerData">fetchAndUpdatePlayerData</a></li>
                <li><a href="global.html#fetchNameChanges">fetchNameChanges</a></li>
                <li><a href="global.html#fetchPlayerData">fetchPlayerData</a></li>
                <li><a href="global.html#fetchWithRetry">fetchWithRetry</a></li>
                <li><a href="global.html#formatDataForSql">formatDataForSql</a></li>
                <li><a href="global.html#getAll">getAll</a></li>
                <li><a href="global.html#getOne">getOne</a></li>
                <li><a href="global.html#getPlayerDataForRSN">getPlayerDataForRSN</a></li>
                <li><a href="global.html#getRankColor">getRankColor</a></li>
                <li><a href="global.html#getRankEmoji">getRankEmoji</a></li>
                <li><a href="global.html#getUserRSNs">getUserRSNs</a></li>
                <li><a href="global.html#handleHiscoresData">handleHiscoresData</a></li>
                <li><a href="global.html#isValidEmbedSize">isValidEmbedSize</a></li>
                <li><a href="global.html#loadClanMembers">loadClanMembers</a></li>
                <li><a href="global.html#loadRSNData">loadRSNData</a></li>
                <li><a href="global.html#loadRegisteredRsnData">loadRegisteredRsnData</a></li>
                <li><a href="global.html#mapActivityToRole">mapActivityToRole</a></li>
                <li><a href="global.html#mapBossToRole">mapBossToRole</a></li>
                <li><a href="global.html#maybeAssignActivityRole">maybeAssignActivityRole</a></li>
                <li><a href="global.html#maybeAssignBossRole">maybeAssignBossRole</a></li>
                <li><a href="global.html#mergeRsnData">mergeRsnData</a></li>
                <li><a href="global.html#normalizeRSN">normalizeRSN</a></li>
                <li><a href="global.html#normalizeRsn">normalizeRsn</a></li>
                <li><a href="global.html#prepareUserContent">prepareUserContent</a></li>
                <li><a href="global.html#processNameChanges">processNameChanges</a></li>
                <li><a href="global.html#removeNonMatchingPlayers">removeNonMatchingPlayers</a></li>
                <li><a href="global.html#runQuery">runQuery</a></li>
                <li><a href="global.html#savePlayerDataToDb">savePlayerDataToDb</a></li>
                <li><a href="global.html#saveToDatabase">saveToDatabase</a></li>
                <li><a href="global.html#sleep">sleep</a></li>
                <li><a href="global.html#standardizeName">standardizeName</a></li>
                <li><a href="global.html#updateRegisteredRSN">updateRegisteredRSN</a></li>
                <li><a href="global.html#validateRsn">validateRsn</a></li>
            </ul>
        </nav>

        <div id="main">
            <h1 class="page-title">Global</h1>

            <section>
                <header>
                    <h2></h2>
                </header>

                <article>
                    <div class="container-overview">
                        <dl class="details"></dl>
                    </div>

                    <h3 class="subsection-title">Members</h3>

                    <h4 class="name" id="data"><span class="type-signature"></span>data<span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Define the /rsn command</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_commands_rsn.js.html">modules/commands/rsn.js</a>, <a href="modules_commands_rsn.js.html#line373">line 373</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <div class="description usertext">Define the /rsn command</div>

                    <h3 class="subsection-title">Methods</h3>

                    <h4 class="name" id="createAchievementRoles">
                        <span class="type-signature type-signature-async">(async) </span>createAchievementRoles<span class="signature">(guild, member, hiscoresData, channelUpdate)</span><span class="type-signature"></span>
                    </h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Assign boss kill or activity-based roles (100 kills, 150 clue completions, etc.).</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line154">line 154</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>guild</code></td>

                                <td class="type">
                                    <span class="param-type">Guild</span>
                                </td>

                                <td class="description last">The Discord guild (server).</td>
                            </tr>

                            <tr>
                                <td class="name"><code>member</code></td>

                                <td class="type">
                                    <span class="param-type">GuildMember</span>
                                </td>

                                <td class="description last">The Discord guild member.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>hiscoresData</code></td>

                                <td class="type">
                                    <span class="param-type">Object</span>
                                </td>

                                <td class="description last">Merged hiscores data.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>channelUpdate</code></td>

                                <td class="type">
                                    <span class="param-type">TextChannel</span>
                                </td>

                                <td class="description last">The channel to send role update messages.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="name" id="createUpdateOsrsRoles">
                        <span class="type-signature type-signature-async">(async) </span>createUpdateOsrsRoles<span class="signature">(guild, member, hiscoresData, channelUpdate)</span><span class="type-signature"></span>
                    </h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Handle skill-based roles (99 Attack, 2277 Total, etc.).</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line329">line 329</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>guild</code></td>

                                <td class="type">
                                    <span class="param-type">Guild</span>
                                </td>

                                <td class="description last">The Discord guild (server).</td>
                            </tr>

                            <tr>
                                <td class="name"><code>member</code></td>

                                <td class="type">
                                    <span class="param-type">GuildMember</span>
                                </td>

                                <td class="description last">The Discord guild member.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>hiscoresData</code></td>

                                <td class="type">
                                    <span class="param-type">Object</span>
                                </td>

                                <td class="description last">Merged hiscores data.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>channelUpdate</code></td>

                                <td class="type">
                                    <span class="param-type">TextChannel</span>
                                </td>

                                <td class="description last">The channel to send role update messages.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="name" id="ensurePlayerDataTable"><span class="type-signature type-signature-async">(async) </span>ensurePlayerDataTable<span class="signature">()</span><span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Creates the 'player_data' table if it doesn't exist, with the schema: (id, player_id, data_key, data_value, last_updated)</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li>modules/services/ <a href="modules_functions_player_data_extractor.js.html">modules/services/player_data_extractor.js</a>, <a href="modules_functions_player_data_extractor.js.html#line95">line 95</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="execute"><span class="type-signature"></span>execute<span class="signature">(interaction)</span><span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Execute the /rsn command</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_commands_rsn.js.html">modules/commands/rsn.js</a>, <a href="modules_commands_rsn.js.html#line390">line 390</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>interaction</code></td>

                                <td class="type">
                                    <span class="param-type">CommandInteraction</span>
                                </td>

                                <td class="description last"></td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="name" id="fetchAndProcessMember"><span class="type-signature type-signature-async">(async) </span>fetchAndProcessMember<span class="signature">(guild, userId)</span><span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Main function to fetch all relevant data for a user's RSNs and assign OSRS roles.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li>modules/services/ <a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line95">line 95</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>guild</code></td>

                                <td class="type">
                                    <span class="param-type">Guild</span>
                                </td>

                                <td class="description last">The Discord guild (server).</td>
                            </tr>

                            <tr>
                                <td class="name"><code>userId</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The Discord user ID.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="name" id="fetchAndSaveRegisteredPlayerData"><span class="type-signature type-signature-async">(async) </span>fetchAndSaveRegisteredPlayerData<span class="signature">()</span><span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Main function to fetch data for each RSN in registered_rsn, flatten it, and store in 'player_data'.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        modules/services/
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_player_data_extractor.js.html">modules/services/player_data_extractor.js</a>, <a href="modules_functions_player_data_extractor.js.html#line197">line 197</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="fetchAndUpdatePlayerData"><span class="type-signature type-signature-async">(async) </span>fetchAndUpdatePlayerData<span class="signature">()</span><span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Orchestrates the entire update: - fetch from WOM for each RSN - store in DB - remove leftover data if desired</li>
                            </ul>
                        </dd>
                        modules/services/

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_player_data_extractor.js.html">modules/services/player_data_extractor.js</a>, <a href="modules_functions_player_data_extractor.js.html#line280">line 280</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="fetchNameChanges"><span class="type-signature type-signature-async">(async) </span>fetchNameChanges<span class="signature">()</span><span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Fetch name changes from the WOM API.</li>
                            </ul>
                        </dd>
                        modules/services/

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_name_changes.js.html">modules/services/name_changes.js</a>, <a href="modules_functions_name_changes.js.html#line15">line 15</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="fetchPlayerData"><span class="type-signature type-signature-async">(async) </span>fetchPlayerData<span class="signature">(rsn)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Fetch player data from WOM API using cURL.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_commands_rsn.js.html">modules/commands/rsn.js</a>, <a href="modules_commands_rsn.js.html#line346">line 346</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>rsn</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The RSN to fetch data for.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- Player data from WOM API or null if unavailable.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Object</span>
                            |

                            <span class="param-type">null</span>
                        </dd>
                    </dl>

                    <h4 class="name" id="fetchWithRetry"><span class="type-signature type-signature-async">(async) </span>fetchWithRetry<span class="signature">()</span><span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Centralized request handler with retry logic (same logic as before).</li>
                            </ul>
                        </dd>
                        modules/services/

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_player_data_extractor.js.html">modules/services/player_data_extractor.js</a>, <a href="modules_functions_player_data_extractor.js.html#line136">line 136</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="formatDataForSql"><span class="type-signature"></span>formatDataForSql<span class="signature">()</span><span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>
                                    Flatten the data to convert nested structures into simple key-value pairs, then filter out undesired fields, rename them, etc.modules/services/ This exactly replicates your old 'formatDataForCsv' but returns an
                                    object for DB insertion rather than CSV lines.
                                </li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_player_data_extractor.js.html">modules/services/player_data_extractor.js</a>, <a href="modules_functions_player_data_extractor.js.html#line22">line 22</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="getAll"><span class="type-signature"></span>getAll<span class="signature">(query, params)</span><span class="type-signature"> &rarr; {Promise.&lt;Array>}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Executes a SELECT query and returns all rows.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="utils_dbUtils.js.html">utils/dbUtils.js</a>, <a href="utils_dbUtils.js.html#line41">line 41</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>query</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The SQL query.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>params</code></td>

                                <td class="type">
                                    <span class="param-type">Array</span>
                                </td>

                                <td class="description last">The query parameters.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- Array of rows.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Promise.&lt;Array></span>
                        </dd>
                    </dl>

                    <h4 class="name" id="getOne"><span class="type-signature"></span>getOne<span class="signature">(query, params)</span><span class="type-signature"> &rarr; {Promise.&lt;Object>}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Executes a SELECT query and returns a single row.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="utils_dbUtils.js.html">utils/dbUtils.js</a>, <a href="utils_dbUtils.js.html#line56">line 56</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>query</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The SQL query.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>params</code></td>

                                <td class="type">
                                    <span class="param-type">Array</span>
                                </td>

                                <td class="description last">The query parameters.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- Single row object.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Promise.&lt;Object></span>
                        </dd>
                    </dl>

                    <h4 class="name" id="getPlayerDataForRSN">
                        <span class="type-signature type-signature-async">(async) </span>getPlayerDataForRSN<span class="signature">(rsn)</span><span class="type-signature"> &rarr; {Promise.&lt;Object>}</span>
                    </h4>

                    <dl class="details">
                        modules/services/
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Fetch all key->value data for a single RSN from the player_data table, using normalization in the SQL query to ensure correct row retrieval.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line31">line 31</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>rsn</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The RuneScape name to fetch data for.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- An object mapping data keys to values.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Promise.&lt;Object></span>
                        </dd>
                    </dl>

                    <h4 class="name" id="getRankColor"><span class="type-signature"></span>getRankColor<span class="signature">(rank)</span><span class="type-signature"> &rarr; {string}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Get the emoji representation for a given rank.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_utils.js.html">modules/utils.js</a>, <a href="modules_utils.js.html#line34">line 34</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>rank</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The rank of the clan member.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">Corresponding rank emoji.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">string</span>
                        </dd>
                    </dl>

                    <h4 class="name" id="getRankEmoji"><span class="type-signature"></span>getRankEmoji<span class="signature">(rank)</span><span class="type-signature"> &rarr; {string}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Get the emoji representation for a given rank.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_utils.js.html">modules/utils.js</a>, <a href="modules_utils.js.html#line24">line 24</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>rank</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The rank of the clan member.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">Corresponding rank emoji.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">string</span>
                        </dd>
                    </dl>

                    <h4 class="name" id="getUserRSNs"><span class="type-signature type-signature-async">(async) </span>getUserRSNs<span class="signature">(userId)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;string>>}</span></h4>

                    <dl class="details">
                        modules/services/

                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Get all RSNs for a given Discord user from the registered_rsn table. Returns an array of RSNs.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line16">line 16</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>userId</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The Discord user ID.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- Array of RSNs.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Promise.&lt;Array.&lt;string>></span>
                        </dd>
                    </dl>

                    <h4 class="name" id="handleHiscoresData">
                        <span class="type-signature type-signature-async">(async) </span>handleHiscoresData<span class="signature">(guild, member, rsns, hiscoresData)</span><span class="type-signature"></span>
                    </h4>

                    modules/services/
                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>High-level function that calls "createUpdateOsrsRoles" & "createAchievementRoles".</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line133">line 133</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>guild</code></td>

                                <td class="type">
                                    <span class="param-type">Guild</span>
                                </td>

                                <td class="description last">The Discord guild (server).</td>
                            </tr>

                            <tr>
                                <td class="name"><code>member</code></td>

                                <td class="type">
                                    <span class="param-type">GuildMember</span>
                                </td>

                                <td class="description last">The Discord guild member.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>rsns</code></td>

                                <td class="type">
                                    <span class="param-type">Array.&lt;string></span>
                                </td>

                                <td class="description last">Array of RSNs linked to the member.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>hiscoresData</code></td>

                                <td class="type">
                                    <span class="param-type">Object</span>
                                </td>

                                <td class="description last">Merged hiscores data.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="name" id="isValidEmbedSize"><span class="type-signature"></span>isValidEmbedSize<span class="signature">()</span><span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Utility function to validate embed size. Ensures the total description length doesn't exceed Discord's limit.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_commands_rsnlist.js.html">modules/commands/rsnlist.js</a>, <a href="modules_commands_rsnlist.js.html#line11">line 11</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="loadClanMembers"><span class="type-signature type-signature-async">(async) </span>loadClanMembers<span class="signature">()</span><span class="type-signature"> &rarr; {Array}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Load the clan members from the database.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_commands_rsnlist.js.html">modules/commands/rsnlist.js</a>, <a href="modules_commands_rsnlist.js.html#line33">line 33</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">Array of clan member objects.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Array</span>
                        </dd>
                    </dl>

                    <h4 class="name" id="loadRSNData"><span class="type-signature type-signature-async">(async) </span>loadRSNData<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Load all registered RSNs from the database.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_commands_rsnlist.js.html">modules/commands/rsnlist.js</a>, <a href="modules_commands_rsnlist.js.html#line19">line 19</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">Object where keys are user IDs and values are arrays of RSNs.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Object</span>
                        </dd>
                    </dl>

                    <h4 class="name" id="loadRegisteredRsnData">
                        <span class="type-signature type-signature-async">(async) </span>loadRegisteredRsnData<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Object>}</span>
                    </h4>

                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Fetches all registered RSNs from the database.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_player_data_extractor.js.html">modules/services/player_data_extractor.js</a>, <a href="modules_functions_player_data_extractor.js.html#line169">line 169</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- Returns a mapping of user IDs to their RSNs.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Promise.&lt;Object></span>
                        </dd>
                    </dl>

                    <h4 class="name" id="mapActivityToRole"><span class="type-signature"></span>mapActivityToRole<span class="signature">(activityName)</span><span class="type-signature"> &rarr; {string}</span></h4>

                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Map activity names to role names.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line224">line 224</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>activityName</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The name of the activity.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- The corresponding role name.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">string</span>
                        </dd>
                    </dl>

                    <h4 class="name" id="mapBossToRole"><span class="type-signature"></span>mapBossToRole<span class="signature">(bossName)</span><span class="type-signature"> &rarr; {string}</span></h4>

                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Map boss names to role names.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line204">line 204</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>bossName</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The name of the boss.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- The corresponding role name.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">string</span>
                        </dd>
                    </dl>

                    <h4 class="name" id="maybeAssignActivityRole">
                        <span class="type-signature type-signature-async">(async) </span>maybeAssignActivityRole<span class="signature">(guild, member, activityName, score, playerName, channelUpdate)</span><span class="type-signature"></span>
                    </h4>

                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Assign an activity role if threshold is met.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line284">line 284</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>guild</code></td>

                                <td class="type">
                                    <span class="param-type">Guild</span>
                                </td>

                                <td class="description last">The Discord guild (server).</td>
                            </tr>

                            <tr>
                                <td class="name"><code>member</code></td>

                                <td class="type">
                                    <span class="param-type">GuildMember</span>
                                </td>

                                <td class="description last">The Discord guild member.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>activityName</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The name of the activity.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>score</code></td>

                                <td class="type">
                                    <span class="param-type">number</span>
                                </td>

                                <td class="description last">The activity score.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>playerName</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The RSN of the player.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>channelUpdate</code></td>

                                <td class="type">
                                    <span class="param-type">TextChannel</span>
                                </td>

                                <td class="description last">The channel to send role update messages.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="name" id="maybeAssignBossRole">
                        <span class="type-signature type-signature-async">(async) </span>maybeAssignBossRole<span class="signature">(guild, member, bossName, kills, playerName, channelUpdate)</span><span class="type-signature"></span>
                    </h4>

                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Assign a boss role if it exists in the guild and user doesn't already have it.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line247">line 247</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>guild</code></td>

                                <td class="type">
                                    <span class="param-type">Guild</span>
                                </td>

                                <td class="description last">The Discord guild (server).</td>
                            </tr>

                            <tr>
                                <td class="name"><code>member</code></td>

                                <td class="type">
                                    <span class="param-type">GuildMember</span>
                                </td>

                                <td class="description last">The Discord guild member.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>bossName</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The name of the boss.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>kills</code></td>

                                <td class="type">
                                    <span class="param-type">number</span>
                                </td>

                                <td class="description last">Number of kills.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>playerName</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The RSN of the player.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>channelUpdate</code></td>

                                <td class="type">
                                    <span class="param-type">TextChannel</span>
                                </td>

                                <td class="description last">The channel to send role update messages.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="name" id="mergeRsnData"><span class="type-signature type-signature-async">(async) </span>mergeRsnData<span class="signature">(rsns)</span><span class="type-signature"> &rarr; {Promise.&lt;Object>}</span></h4>

                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Merge the data from multiple RSNs, taking the highest value where it applies (skills, boss kills, etc.). This way, if a user has multiple RSNs, we treat them as a single combined account for role assignment.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_auto_roles.js.html">modules/services/auto_roles.js</a>, <a href="modules_functions_auto_roles.js.html#line61">line 61</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>rsns</code></td>

                                <td class="type">
                                    <span class="param-type">Array.&lt;string></span>
                                </td>

                                <td class="description last">Array of RSNs.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- Merged hiscores data.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Promise.&lt;Object></span>
                        </dd>
                    </dl>

                    <h4 class="name" id="normalizeRSN"><span class="type-signature"></span>normalizeRSN<span class="signature">(rsn)</span><span class="type-signature"> &rarr; {string}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Normalize the RSN for consistent comparison.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_utils.js.html">modules/utils.js</a>, <a href="modules_utils.js.html#line15">line 15</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>rsn</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">RSN string to normalize.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">Normalized RSN.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">string</span>
                        </dd>
                    </dl>

                    <h4 class="name" id="normalizeRsn"><span class="type-signature"></span>normalizeRsn<span class="signature">(rsn)</span><span class="type-signature"> &rarr; {string}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Normalize RSN for consistent comparison.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_commands_removersn.js.html">modules/commands/removersn.js</a>, <a href="modules_commands_removersn.js.html#line18">line 18</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>rsn</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">RSN to normalize.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- Normalized RSN.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">string</span>
                        </dd>
                    </dl>

                    <h4 class="name" id="normalizeRsn"><span class="type-signature"></span>normalizeRsn<span class="signature">(rsn)</span><span class="type-signature"> &rarr; {string}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Normalize RSN for consistent comparison.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_commands_rsn.js.html">modules/commands/rsn.js</a>, <a href="modules_commands_rsn.js.html#line333">line 333</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>rsn</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">RSN to normalize.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- Normalized RSN.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">string</span>
                        </dd>
                    </dl>

                    <h4 class="name" id="prepareUserContent"><span class="type-signature"></span>prepareUserContent<span class="signature">()</span><span class="type-signature"></span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Utility function to prepare user RSN content.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_commands_rsnlist.js.html">modules/commands/rsnlist.js</a>, <a href="modules_commands_rsnlist.js.html#line40">line 40</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="processNameChanges"><span class="type-signature type-signature-async">(async) </span>processNameChanges<span class="signature">(client)</span><span class="type-signature"></span></h4>

                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Process name changes and handle complex dependencies dynamically with `resolvedAt`.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_name_changes.js.html">modules/services/name_changes.js</a>, <a href="modules_functions_name_changes.js.html#line188">line 188</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>client</code></td>

                                <td class="type">
                                    <span class="param-type">Client</span>
                                </td>

                                <td class="description last">Discord client instance.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="name" id="removeNonMatchingPlayers"><span class="type-signature type-signature-async">(async) </span>removeNonMatchingPlayers<span class="signature">()</span><span class="type-signature"></span></h4>

                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Removes old players from 'player_data' who are not in the current set. If you don't want this logic, remove it.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_player_data_extractor.js.html">modules/services/player_data_extractor.js</a>, <a href="modules_functions_player_data_extractor.js.html#line260">line 260</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="runQuery"><span class="type-signature"></span>runQuery<span class="signature">(query, params)</span><span class="type-signature"> &rarr; {Promise.&lt;Object>}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Executes a query that modifies data (INSERT, UPDATE, DELETE). Returns the result object.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="utils_dbUtils.js.html">utils/dbUtils.js</a>, <a href="utils_dbUtils.js.html#line26">line 26</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>query</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The SQL query.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>params</code></td>

                                <td class="type">
                                    <span class="param-type">Array</span>
                                </td>

                                <td class="description last">The query parameters.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- Result of the query.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Promise.&lt;Object></span>
                        </dd>
                    </dl>

                    <h4 class="name" id="savePlayerDataToDb"><span class="type-signature type-signature-async">(async) </span>savePlayerDataToDb<span class="signature">()</span><span class="type-signature"></span></h4>
                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Overwrites (deletes old rows) for a given player, then inserts the new flattened data.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_player_data_extractor.js.html">modules/services/player_data_extractor.js</a>, <a href="modules_functions_player_data_extractor.js.html#line110">line 110</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="saveToDatabase"><span class="type-signature type-signature-async">(async) </span>saveToDatabase<span class="signature">(nameChanges)</span><span class="type-signature"></span></h4>
                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Save name changes to the database.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_name_changes.js.html">modules/services/name_changes.js</a>, <a href="modules_functions_name_changes.js.html#line33">line 33</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>nameChanges</code></td>

                                <td class="type">
                                    <span class="param-type">Array</span>
                                </td>

                                <td class="description last">Array of name change objects.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="name" id="sleep"><span class="type-signature type-signature-async">(async) </span>sleep<span class="signature">()</span><span class="type-signature"></span></h4>
                    modules/services/

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Sleep helper for rate limiting.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_player_data_extractor.js.html">modules/services/player_data_extractor.js</a>, <a href="modules_functions_player_data_extractor.js.html#line12">line 12</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h4 class="name" id="standardizeName"><span class="type-signature"></span>standardizeName<span class="signature">(rsn)</span><span class="type-signature"> &rarr; {string}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Normalizes an RSN for consistent database storage/lookup. - Trim leading/trailing spaces - Lowercase everything - Replace runs of '-' or '_' with a single space</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="utils_normalize.js.html">utils/normalize.js</a>, <a href="utils_normalize.js.html#line12">line 12</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>rsn</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The RuneScape name to normalize.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- The normalized RSN.</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">string</span>
                        </dd>
                    </dl>

                    modules/services/

                    <h4 class="name" id="updateRegisteredRSN">
                        <span class="type-signature type-signature-async">(async) </span>updateRegisteredRSN<span class="signature">(oldName, newName, channelManager)</span><span class="type-signature"></span>
                    </h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Update the `registered_rsn` table with new RSN mappings.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_functions_name_changes.js.html">modules/services/name_changes.js</a>, <a href="modules_functions_name_changes.js.html#line67">line 67</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>oldName</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The old RSN.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>newName</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">The new RSN.</td>
                            </tr>

                            <tr>
                                <td class="name"><code>channelManager</code></td>

                                <td class="type">
                                    <span class="param-type">GuildChannelManager</span>
                                </td>

                                <td class="description last">Discord channel manager for sending messages.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="name" id="validateRsn"><span class="type-signature"></span>validateRsn<span class="signature">(rsn)</span><span class="type-signature"> &rarr; {Object}</span></h4>

                    <dl class="details">
                        <dt class="tag-description">Description:</dt>
                        <dd class="tag-description">
                            <ul class="dummy">
                                <li>Validate RSN format.</li>
                            </ul>
                        </dd>

                        <dt class="tag-source">Source:</dt>
                        <dd class="tag-source">
                            <ul class="dummy">
                                <li><a href="modules_commands_rsn.js.html">modules/commands/rsn.js</a>, <a href="modules_commands_rsn.js.html#line284">line 284</a></li>
                            </ul>
                        </dd>
                    </dl>

                    <h5 class="h5-parameters">Parameters:</h5>

                    <table class="params">
                        <thead>
                            <tr>
                                <th>Name</th>

                                <th>Type</th>

                                <th class="last">Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td class="name"><code>rsn</code></td>

                                <td class="type">
                                    <span class="param-type">string</span>
                                </td>

                                <td class="description last">RSN to validate.</td>
                            </tr>
                        </tbody>
                    </table>

                    <h5 class="h5-returns">Returns:</h5>

                    <div class="param-desc">- { valid: Boolean, message: String }</div>

                    <dl class="param-type">
                        <dt>Type</dt>
                        <dd>
                            <span class="param-type">Object</span>
                        </dd>
                    </dl>
                </article>
            </section>
        </div>

        <br class="clear" />

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Thu Jan 23 2025 22:18:17 GMT+0100 (Central European Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
        </footer>

        <script>
            prettyPrint();
        </script>
        <script src="scripts/polyfill.js"></script>
        <script src="scripts/linenumber.js"></script>
    </body>
</html>
