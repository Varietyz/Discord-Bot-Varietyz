<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>modules/commands/rsn.js - Documentation</title>

        <script src="scripts/prettify/prettify.js"></script>
        <script src="scripts/prettify/lang-css.js"></script>
        <!--[if lt IE 9]>
            <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link type="text/css" rel="stylesheet" href="styles/prettify.css" />
        <link type="text/css" rel="stylesheet" href="styles/jsdoc.css" />
        <script src="scripts/nav.js" defer></script>

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>
    <body>
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger" class="navicon-button x">
            <div class="navicon"></div>
        </label>

        <label for="nav-trigger" class="overlay"></label>

        <nav>
            <h2><a href="index.html">Home</a></h2>
            <h3>Global</h3>
            <ul>
                <li><a href="global.html#createAchievementRoles">createAchievementRoles</a></li>
                <li><a href="global.html#createUpdateOsrsRoles">createUpdateOsrsRoles</a></li>
                <li><a href="global.html#data">data</a></li>
                <li><a href="global.html#ensurePlayerDataTable">ensurePlayerDataTable</a></li>
                <li><a href="global.html#execute">execute</a></li>
                <li><a href="global.html#fetchAndProcessMember">fetchAndProcessMember</a></li>
                <li><a href="global.html#fetchAndSaveRegisteredPlayerData">fetchAndSaveRegisteredPlayerData</a></li>
                <li><a href="global.html#fetchAndUpdatePlayerData">fetchAndUpdatePlayerData</a></li>
                <li><a href="global.html#fetchNameChanges">fetchNameChanges</a></li>
                <li><a href="global.html#fetchPlayerData">fetchPlayerData</a></li>
                <li><a href="global.html#fetchWithRetry">fetchWithRetry</a></li>
                <li><a href="global.html#formatDataForSql">formatDataForSql</a></li>
                <li><a href="global.html#getAll">getAll</a></li>
                <li><a href="global.html#getOne">getOne</a></li>
                <li><a href="global.html#getPlayerDataForRSN">getPlayerDataForRSN</a></li>
                <li><a href="global.html#getRankColor">getRankColor</a></li>
                <li><a href="global.html#getRankEmoji">getRankEmoji</a></li>
                <li><a href="global.html#getUserRSNs">getUserRSNs</a></li>
                <li><a href="global.html#handleHiscoresData">handleHiscoresData</a></li>
                <li><a href="global.html#isValidEmbedSize">isValidEmbedSize</a></li>
                <li><a href="global.html#loadClanMembers">loadClanMembers</a></li>
                <li><a href="global.html#loadRSNData">loadRSNData</a></li>
                <li><a href="global.html#loadRegisteredRsnData">loadRegisteredRsnData</a></li>
                <li><a href="global.html#mapActivityToRole">mapActivityToRole</a></li>
                <li><a href="global.html#mapBossToRole">mapBossToRole</a></li>
                <li><a href="global.html#maybeAssignActivityRole">maybeAssignActivityRole</a></li>
                <li><a href="global.html#maybeAssignBossRole">maybeAssignBossRole</a></li>
                <li><a href="global.html#mergeRsnData">mergeRsnData</a></li>
                <li><a href="global.html#normalizeRSN">normalizeRSN</a></li>
                <li><a href="global.html#normalizeRsn">normalizeRsn</a></li>
                <li><a href="global.html#prepareUserContent">prepareUserContent</a></li>
                <li><a href="global.html#processNameChanges">processNameChanges</a></li>
                <li><a href="global.html#removeNonMatchingPlayers">removeNonMatchingPlayers</a></li>
                <li><a href="global.html#runQuery">runQuery</a></li>
                <li><a href="global.html#savePlayerDataToDb">savePlayerDataToDb</a></li>
                <li><a href="global.html#saveToDatabase">saveToDatabase</a></li>
                <li><a href="global.html#sleep">sleep</a></li>
                <li><a href="global.html#standardizeName">standardizeName</a></li>
                <li><a href="global.html#updateRegisteredRSN">updateRegisteredRSN</a></li>
                <li><a href="global.html#validateRsn">validateRsn</a></li>
            </ul>
        </nav>

        <div id="main">
            <h1 class="page-title">modules/commands/rsn.js</h1>

            <section>
                <article>
                    <pre class="prettyprint source linenums"><code>const { SlashCommandBuilder } = require("@discordjs/builders");
const logger = require("../processing/logger");
const { runQuery, getOne } = require("../../utils/dbUtils"); // Importing dbUtils functions
const axios = require("axios");

// Rate Limiting Configuration
const RATE_LIMIT = 5; // Maximum number of allowed attempts
const RATE_LIMIT_DURATION = 60 * 1000; // Time window in milliseconds (e.g., 1 minute)
const rateLimitMap = new Map(); // Map to track user requests

// Easter egg RSNs and their respective responses
const easterEggs = {
  zezima: {
    title: "üåü Zezima",
    description:
      "Oh, **Zezima**? Shooting for the stars, huh? This name‚Äôs staying with the legend. üòÇ",
    color: 0xffd700, // Gold color
  },
  durial321: {
    title: "‚öîÔ∏è Durial321",
    description:
      "Trying **Durial321**? Unless you‚Äôre reenacting the Falador Massacre, you‚Äôre no villain here. Next! üòÖ",
    color: 0xff4500, // Orange-red color
  },
  bluerose13x: {
    title: "üîß Bluerose13x",
    description:
      "**Bluerose13x**‚ÄîRuneScape‚Äôs OG smith. Unless you‚Äôre smelting history, let‚Äôs keep it in the past. üõ†Ô∏è",
    color: 0x1e90ff, // Blue
  },
  "the old nite": {
    title: "üïäÔ∏è The Old Nite",
    description:
      "Unless you‚Äôre inspiring the entire RuneScape world like **The Old Nite**, this RSN‚Äôs sacred ground. Move along. üåô",
    color: 0x696969, // Dark gray
  },
  "s u o m i": {
    title: "üíé S U O M I",
    description:
      "**SUOMI** climbed Everest (or the XP equivalent). You, however, might be stuck at Tutorial Island. üèãÔ∏è",
    color: 0x00ffff, // Cyan
  },
  woox: {
    title: "üëë Woox",
    description:
      "**Woox** didn‚Äôt set PvM records for someone else to take the glory. Stick to fighting goblins for now. üî•",
    color: 0xff4500, // Orange-red
  },
  swampletics: {
    title: "üåø Swampletics",
    description:
      "A Morytania-only Ironman with no bank? Unless you‚Äôre pulling a Swampletics 2.0, try another name. üå≤",
    color: 0x2e8b57, // Dark green
  },
  rendi: {
    title: "üé® Rendi",
    description:
      "**Rendi** mastered glitches and chaos. If your best trick is forgetting to eat, this name‚Äôs not for you. üå™Ô∏è",
    color: 0x9370db, // Purple
  },
  "cursed you": {
    title: "üòà Cursed You",
    description:
      "Thinking of stealing **Cursed You**? Unless you‚Äôre dominating PvP, this name stays with the king. üíÄ",
    color: 0xdc143c, // Crimson
  },
  framed: {
    title: "üóûÔ∏è Framed",
    description:
      "Unless you‚Äôre narrating epic PK tales like **Framed**, this name isn‚Äôt for you. üî•",
    color: 0x008080, // Teal
  },
  "sparc mac": {
    title: "üí• Sparc Mac",
    description:
      "Unless you‚Äôve got PvP montages ready to upload, **Sparc Mac** is way out of your league. üòâ",
    color: 0xff6347, // Tomato
  },
  "matt k": {
    title: "üìú Matt K",
    description:
      "If you can‚Äôt commit to hours of skilling grind, **Matt K** isn‚Äôt your vibe. Stick to chopping willows, rookie. üå≥",
    color: 0x4682b4, // Steel blue
  },
  tehnoobshow: {
    title: "üé• TehNoobShow",
    description: "GUTHHHIIIIIIIIIIIIIIIXXXXXXXXXXXXX!!!!!!!!!!!!!!!!!!!!!!!!",
    color: 0xffd700, // Gold
  },
  nightmarerh: {
    title: "üåô NightmareRH",
    description:
      "**NightmareRH** set the standard for fiery rants. Unless you‚Äôre going full chaos, this name isn‚Äôt yours. üò°",
    color: 0xff6347, // Red-orange
  },
  "3 hit u": {
    title: "‚öîÔ∏è 3 Hit U",
    description:
      "**3 Hit U** owned the Duel Arena. Unless you‚Äôre planning to one-shot everyone, step away from the legend. üí™",
    color: 0x8b0000, // Dark red
  },
  kingduffy: {
    title: "üëë Kingduffy",
    description:
      "**Kingduffy** ruled RuneScape. Unless you‚Äôre planning a hostile leaderboard takeover, this isn‚Äôt your name. üëë",
    color: 0xffd700, // Gold
  },
  exact: {
    title: "üéØ Exact",
    description:
      "Soloing raids blindfolded? No? Then **Exact** isn‚Äôt your name. Stick to quest bosses. üïπÔ∏è",
    color: 0x2f4f4f, // Dark slate gray
  },
  forsberg888: {
    title: "ü™ì Forsberg888",
    description:
      "Chopping yews for hours on end? Unless you‚Äôre matching **Forsberg888**, this name‚Äôs not yours. ü™ì",
    color: 0x228b22, // Forest green
  },
  jebrim: {
    title: "üèÉ Jebrim",
    description:
      "**Jebrim** lived rooftops and shortcuts. Unless you love rooftops more than loot, stick to running errands. üèÖ",
    color: 0x00ff7f, // Spring green
  },
  "chris archie": {
    title: "üìΩÔ∏è Chris Archie",
    description:
      "Unless you‚Äôre creating iconic PK montages, **Chris Archie** isn‚Äôt for you. Stick to watching highlights! üé¨",
    color: 0xffd700, // Gold
  },
  kempq: {
    title: "‚ö° KempQ",
    description:
      "Unless you‚Äôre mastering PKing with style, **KempQ** isn‚Äôt your name. Move along! ‚öîÔ∏è",
    color: 0x8b0000, // Dark red
  },
  drumgun: {
    title: "üéØ Drumgun",
    description:
      "Relentless grinding? Unless you‚Äôre hitting 200 million XP milestones back-to-back, leave **Drumgun** alone. üèÜ",
    color: 0x8b0000, // Dark red
  },
  zarfot: {
    title: "üìà Zarfot",
    description:
      "**Zarfot** turned skilling into an art form. Unless you‚Äôve got efficiency calculators for breakfast, this name‚Äôs off-limits. üõ†Ô∏è",
    color: 0x00ced1, // Dark turquoise
  },
  syzygy: {
    title: "üöÄ Syzygy",
    description:
      "Dominating hiscores with efficiency like **Syzygy**? No? Stick to your basic skilling plans. üìä",
    color: 0xffa500, // Orange
  },
  alkan: {
    title: "üî• Alkan",
    description:
      "**Alkan** was maxing while you were still figuring out how to bank. Respect the grind. üèãÔ∏è",
    color: 0xff4500, // Orange-red
  },
  hexis: {
    title: "üåü Hexis",
    description:
      "Skilling legends belong to **Hexis**. Unless you‚Äôre leading a clan XP race, this name isn‚Äôt for you. üëë",
    color: 0x32cd32, // Lime green
  },
  foot: {
    title: "üß† Foot",
    description:
      "**Foot** doesn‚Äôt just play RuneScape; he rewrites the meta. If you‚Äôre not testing mechanics, leave the name. ‚öôÔ∏è",
    color: 0x00bfff, // Deep sky blue
  },
  b0aty: {
    title: "üé£ B0aty",
    description:
      "Unless you‚Äôre ready to dominate PvM and Ironman like **B0aty**, keep fishing for another name. üé£",
    color: 0xff4500, // Orange-red
  },
  "a friend": {
    title: "ü§ù A Friend",
    description:
      "**A Friend** taught us everything from PvM to money-making. Unless you‚Äôre sharing knowledge, this isn‚Äôt your name. üìö",
    color: 0x4682b4, // Steel blue
  },
  torvesta: {
    title: "‚öîÔ∏è Torvesta",
    description:
      "Unless you‚Äôre keeping PvP alive like **Torvesta**, this RSN‚Äôs out of reach. Time to train! üèπ",
    color: 0xff4500, // Orange-red
  },
  settled: {
    title: "üåå Settled",
    description:
      "**Settled** reinvented storytelling with Swampletics. Unless you‚Äôre crafting an epic tale, this name isn‚Äôt yours. üåø",
    color: 0x2e8b57, // Dark green
  },
  faux: {
    title: "üåü Faux",
    description:
      "Chill, educational, and legendary‚Äîthat‚Äôs **Faux**. Unless you‚Äôre bringing the vibes, pick another name. üéì",
    color: 0x00ff7f, // Spring green
  },
  perp: {
    title: "üé≠ Perp",
    description:
      "**Perp** took challenges to a whole new level. Unless you‚Äôre redefining gameplay, leave it. üéÆ",
    color: 0xffd700, // Gold
  },
  elvemage: {
    title: "‚ú® Elvemage",
    description:
      "Hybrid PKing innovator **Elvemage** doesn‚Äôt share his name. Stick to PvP practice, champ. üõ°Ô∏è",
    color: 0x00ffff, // Cyan
  },
  "bonesaw pker": {
    title: "ü¶¥ Bonesaw Pker",
    description:
      "PKing royalty **Bonesaw Pker** deserves respect. Unless you‚Äôre a wilderness veteran, step aside. üíÄ",
    color: 0x8b0000, // Dark red
  },
  "sk8r boi pk": {
    title: "üõπ SK8R BOI PK",
    description:
      "**SK8R BOI PK** defined early PvP. Unless you‚Äôre revolutionizing the Wilderness, this name‚Äôs not yours. ‚öîÔ∏è",
    color: 0x1e90ff, // Blue
  },
  imahama: {
    title: "üêü iMahama",
    description:
      "A pure PKing legend. Unless your strategy is flawless, you‚Äôre not living up to **iMahama**. üéØ",
    color: 0x32cd32, // Lime green
  },
  gabe: {
    title: "üé≤ Gabe",
    description:
      "**Gabe** ruled the Duel Arena. Unless you‚Äôre ready to stake it all, this name isn‚Äôt yours. üé≤",
    color: 0xff6347, // Tomato
  },
  sparky: {
    title: "üåü Sparky",
    description:
      "Bringing humor to the RuneScape world? Unless you‚Äôre matching **Sparky**, leave the jokes aside. üé≠",
    color: 0xffd700, // Gold
  },
  "ice poseidon": {
    title: "‚ùÑÔ∏è Ice Poseidon",
    description:
      "**Ice Poseidon** brought OSRS to the mainstream. Controversy not included. Proceed cautiously. ‚òÉÔ∏è",
    color: 0x4682b4, // Steel blue
  },
  fantasy: {
    title: "üåå Fantasy",
    description:
      "**Fantasy** paved the way for RuneScape Classic creators. Unless you‚Äôre teaching PvP strategies, skip this name. üõ°Ô∏è",
    color: 0x8b0000, // Dark red
  },
  "lynx titan": {
    title: "üí™ Lynx Titan",
    description:
      "Maxed 200M XP in every skill? Unless you‚Äôre planning to rewrite OSRS leaderboards, step away from **Lynx Titan**. üèÜ",
    color: 0xffd700, // Gold
  },
  tks: {
    title: "üêü Tks",
    description:
      "Unless you‚Äôre cooking and fishing like it‚Äôs 2001, **Tks** isn‚Äôt the name for you. Stick to shrimp, buddy. üé£",
    color: 0x4682b4, // Steel blue
  },
  rab: {
    title: "üëë Rab",
    description:
      "**Rab**, the first to ever step foot in Gielinor back when it was DeviousMUD. Your adventure might be epic, but it‚Äôs no first-of-its-kind. Leave this one for the original trailblazer. üåü",
    color: 0xdaa520, // Goldenrod
  },
};

/**
 * Validate RSN format.
 *
 * @param {string} rsn - RSN to validate.
 * @returns {Object} - { valid: Boolean, message: String }
 */
const validateRsn = (rsn) => {
  if (typeof rsn !== "string") {
    return {
      valid: false,
      message: "RSN must be a string.",
    };
  }

  const trimmedRsn = rsn.trim();

  if (trimmedRsn.length &lt; 1 || trimmedRsn.length > 12) {
    return {
      valid: false,
      message: "RSN must be between 1 and 12 characters long.",
    };
  }

  // Allow letters, numbers, and single spaces between words
  // Disallow hyphens and underscores
  if (!/^[a-zA-Z0-9]+(?: [a-zA-Z0-9]+)*$/.test(trimmedRsn)) {
    return {
      valid: false,
      message:
        "RSN can only contain letters, numbers, and single spaces between words. (If your RSN includes a hyphen or underscore, replace it with a space)",
    };
  }

  const forbiddenPhrases = ["Java", "Mod", "Jagex"];
  if (
    forbiddenPhrases.some((phrase) =>
      trimmedRsn.toLowerCase().includes(phrase.toLowerCase()),
    )
  ) {
    return {
      valid: false,
      message:
        'RSN cannot contain forbidden phrases like "Java", "Mod", or "Jagex".',
    };
  }

  return { valid: true };
};

/**
 * Normalize RSN for consistent comparison.
 *
 * @param {string} rsn - RSN to normalize.
 * @returns {string} - Normalized RSN.
 */
const normalizeRsn = (rsn) => {
  return rsn
    .replace(/[-_]/g, " ") // Replace hyphens and underscores with spaces
    .replace(/\s+/g, " ") // Replace multiple spaces with a single space
    .trim() // Remove leading and trailing spaces
    .toLowerCase(); // Convert to lowercase
};

/**
 * Fetch player data from WOM API using cURL.
 * @param {string} rsn - The RSN to fetch data for.
 * @returns {Object|null} - Player data from WOM API or null if unavailable.
 */
async function fetchPlayerData(rsn) {
  const url = `https://api.wiseoldman.net/v2/players/${encodeURIComponent(rsn)}`;

  try {
    const response = await axios.get(url);
    return response.data;
  } catch (error) {
    if (error.response &amp;&amp; error.response.status === 404) {
      logger.warn(`[fetchPlayerData] RSN '${rsn}' not found on Wise Old Man.`);
      return null; // Handle 404 errors gracefully
    } else if (error.response &amp;&amp; error.response.status === 429) {
      logger.warn(
        `[fetchPlayerData] Rate limited by WOM API. Please try again later.`,
      );
      throw new Error("Rate limited by WOM API.");
    } else {
      logger.error(
        `[fetchPlayerData] Unexpected error fetching RSN '${rsn}': ${error.message}`,
      );
      throw error; // Rethrow unexpected errors
    }
  }
}

/**
 * Define the /rsn command
 */
module.exports.data = new SlashCommandBuilder()
  .setName("rsn")
  .setDescription("Register your Old School RuneScape Name (RSN)")
  .addStringOption((option) =>
    option
      .setName("name")
      .setDescription("Your Old School RuneScape Name to register")
      .setRequired(true)
      .setMinLength(1)
      .setMaxLength(12),
  );

/**
 * Execute the /rsn command
 *
 * @param {CommandInteraction} interaction
 */
module.exports.execute = async (interaction) => {
  let rsn = "";
  try {
    rsn = interaction.options.getString("name"); // Get RSN input from user

    // Check for Easter egg RSNs
    const lowerRsn = rsn.toLowerCase();
    if (easterEggs[lowerRsn]) {
      const { title, description, color } = easterEggs[lowerRsn];
      return await interaction.reply({
        embeds: [
          {
            title,
            description,
            color,
          },
        ],
        flags: 64, // EPHEMERAL
      });
    }

    // Validate RSN format
    const validation = validateRsn(rsn);
    if (!validation.valid) {
      return await interaction.reply({
        content: `‚ùå ${validation.message} Please check your input and try again. üõ†Ô∏è`,
        flags: 64, // EPHEMERAL
      });
    }

    const userId = interaction.user.id;
    const currentTime = Date.now();
    const userData = rateLimitMap.get(userId) || {
      count: 0,
      firstRequest: currentTime,
    };

    if (currentTime - userData.firstRequest &lt; RATE_LIMIT_DURATION) {
      if (userData.count >= RATE_LIMIT) {
        const retryAfter = Math.ceil(
          (RATE_LIMIT_DURATION - (currentTime - userData.firstRequest)) / 1000,
        );
        return await interaction.reply({
          content: `üö´ You're using this command too frequently. Please wait \`${retryAfter}\` second(s) before trying again. ‚è≥`,
          flags: 64, // EPHEMERAL
        });
      }
      userData.count += 1;
    } else {
      userData.count = 1;
      userData.firstRequest = currentTime;
    }

    rateLimitMap.set(userId, userData);

    // Schedule removal of the user's rate limit data after RATE_LIMIT_DURATION
    setTimeout(() => rateLimitMap.delete(userId), RATE_LIMIT_DURATION);

    const normalizedRsn = normalizeRsn(rsn);

    logger.info(`User ${userId} attempting to register RSN '${rsn}'`);

    // Step 1: Fetch player data from WOM API
    const playerData = await fetchPlayerData(normalizedRsn);
    if (!playerData) {
      const profileLink = `https://wiseoldman.net/players/${encodeURIComponent(
        normalizedRsn,
      )}`;
      return await interaction.reply({
        content: `‚ùå The RSN \`${rsn}\` could not be verified on Wise Old Man. This might be because the name is not linked to an account or the WOM database needs an update. Please ensure the name exists and try again.\n\nüîó [View Profile](${profileLink})`,
        flags: 64, // EPHEMERAL
      });
    }

    // Step 2: Check if RSN already exists under another user's account
    const existingUser = await getOne(
      `
  SELECT user_id FROM registered_rsn
  WHERE LOWER(REPLACE(REPLACE(rsn, '-', ' '), '_', ' ')) = ?
  LIMIT 1
  `,
      [normalizedRsn],
    );

    if (existingUser &amp;&amp; existingUser.user_id !== userId) {
      return await interaction.reply({
        content: `üö´ The RSN \`${rsn}\` is already registered by another user: &lt;@${existingUser.user_id}>. üõ°Ô∏è`,
        flags: 64, // EPHEMERAL
      });
    }

    // Step 3: Check if RSN is already registered to the user
    const isRegistered = await getOne(
      `
  SELECT 1 FROM registered_rsn
  WHERE user_id = ? AND LOWER(REPLACE(REPLACE(rsn, '-', ' '), '_', ' ')) = ?
  LIMIT 1
  `,
      [userId, normalizedRsn],
    );

    if (isRegistered) {
      return await interaction.reply({
        content: `‚ö†Ô∏è The RSN \`${rsn}\` is already registered to your account. No action was taken. ‚úÖ`,
        flags: 64, // EPHEMERAL
      });
    }

    // Step 4: Register the RSN
    try {
      await runQuery(
        `
    INSERT INTO registered_rsn (user_id, rsn, registered_at)
    VALUES (?, ?, ?)
    `,
        [userId, rsn, new Date().toISOString()],
      );

      await interaction.reply({
        content: `üéâ **Success!** The RSN \`${rsn}\` has been registered to your account. üèÜ`,
        flags: 64,
      });

      logger.info(`RSN '${rsn}' successfully registered for user ${userId}`);
    } catch (insertErr) {
      if (insertErr.message.includes("UNIQUE constraint failed")) {
        // RSN already exists due to race condition
        return await interaction.reply({
          content: `üö´ Oops! The RSN \`${rsn}\` was just registered by someone else. Please choose another one. üîÑ`,
          flags: 64,
        });
      } else {
        throw insertErr; // Let the outer catch handle other errors
      }
    }
  } catch (err) {
    logger.error(`Error executing /rsn command: ${err.message}`);

    // Check if the interaction has already been replied to
    if (interaction.replied || interaction.deferred) {
      await interaction.followUp({
        content: `‚ùå An error occurred while registering \`${rsn}\`. Please try again later. üõ†Ô∏è`,
        flags: 64, // EPHEMERAL
      });
    } else {
      await interaction.reply({
        content: `‚ùå Something went wrong while processing your request. Please try again later. üõ†Ô∏è`,
        flags: 64, // EPHEMERAL
      });
    }
  }
};
</code></pre>
                </article>
            </section>
        </div>

        <br class="clear" />

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Thu Jan 23 2025 22:18:17 GMT+0100 (Central European Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
        </footer>

        <script>
            prettyPrint();
        </script>
        <script src="scripts/polyfill.js"></script>
        <script src="scripts/linenumber.js"></script>
    </body>
</html>
